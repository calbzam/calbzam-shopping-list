(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{14:function(e,t,n){e.exports=n(38)},37:function(e,t,n){},38:function(e,t,n){"use strict";n.r(t);var a=n(2),u=n(0),c=n.n(u),r=n(13),o=n.n(r),l=function(e){return c.a.createElement(c.a.Fragment,null,c.a.createElement("form",{onSubmit:e.addItem},c.a.createElement("div",null,"name:",c.a.createElement("input",{value:e.name,onChange:e.onChangeName})),c.a.createElement("div",null,c.a.createElement("button",{type:"submit"},"add"))))},i=function(e){return c.a.createElement(c.a.Fragment,null,c.a.createElement("p",null,c.a.createElement("div",null,e.name,c.a.createElement("button",{onClick:e.toggleButton},"delete"))))},m=n(3),s=n.n(m),f=function(){return s.a.get("/api/items").then(function(e){return e.data})},d=function(e){return s.a.post("/api/items",e).then(function(e){return e.data})},h=function(e){return s.a.delete("".concat("/api/items","/").concat(e))},p=function(e,t){return e.filter(function(e){return e.name.toLowerCase().includes(t.toLowerCase())}).length===e.length},v=function(e){var t=e.message;return null===t?null:c.a.createElement("div",{className:"error"},t)};n(37);o.a.render(c.a.createElement(function(){var e=Object(u.useState)([]),t=Object(a.a)(e,2),n=t[0],r=t[1],o=Object(u.useState)(""),m=Object(a.a)(o,2),s=m[0],E=m[1],g=Object(u.useState)(""),b=Object(a.a)(g,2),w=b[0],j=b[1],O=Object(u.useState)(""),C=Object(a.a)(O,2),y=C[0],S=C[1],k=Object(u.useState)(null),L=Object(a.a)(k,2),I=L[0],N=L[1];Object(u.useEffect)(function(){f().then(function(e){r(e)})},[]);var B=p(n,y)?n:n.filter(function(e){return e.name.toLowerCase().includes(y.toLowerCase())});return c.a.createElement("div",null,c.a.createElement("h2",null,"Shopping List"),c.a.createElement(v,{message:I}),c.a.createElement("div",null,"filter shown with: ",c.a.createElement("input",{value:y,placeholder:"Search a name here",onChange:function(e){S(e.target.value)}})),c.a.createElement("h3",null,"Add a new:"),c.a.createElement(l,{addItem:function(e){e.preventDefault();var t={name:s,number:w};void 0===n.find(function(e){return e.name===s})?d(t).then(function(e){r(n.concat(e)),E(""),j(""),N("".concat(t.name," was successfuly added to the shopping list")),setTimeout(function(){N(null)},4e3)}).catch(function(e){N("cannot save item:".concat(t.name))}):alert("".concat(t.name," is already added to shopping list"))},name:s,onChangeName:function(e){E(e.target.value)},number:w,onChangeNumber:function(e){j(e.target.value)}}),c.a.createElement("h2",null,"Items"),c.a.createElement("div",null,B.map(function(e){return c.a.createElement(i,{key:e.name,name:e.name,toggleButton:function(){return t=e.id,a=e.name,void(window.confirm("Do you really want to delete ".concat(a," ?"))&&h(t).then(function(){var e=n.filter(function(e){return e.id!==t});r(e),N("".concat(a," was successfuly removed from the phonebook")),setTimeout(function(){N(null)},4e3)}));var t,a}})})))},null),document.getElementById("root"))}},[[14,1,2]]]);
//# sourceMappingURL=main.3db7919f.chunk.js.map